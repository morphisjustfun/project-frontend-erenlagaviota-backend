{"code":"(this.webpackJsonpprojectionfrontend=this.webpackJsonpprojectionfrontend||[]).push([[0],{31:function(e,t,n){\"use strict\";n.r(t);var c={};n.r(c),n.d(c,\"toggleLoading\",(function(){return x})),n.d(c,\"logOut\",(function(){return _})),n.d(c,\"logIn\",(function(){return U}));var o,r=n(0),a=n.n(r),i=n(13),u=n.n(i),l=n(20),s=n(2),d=n(12),g=n(9),O=n(19),j=n(8);!function(e){e.TOGGLE_LOADING=\"toggle_logged\",e.LOG_OUT=\"log_out\",e.LOG_IN=\"log_in\"}(o||(o={}));var h={authenticated:!1,loading:!1,currentUser:0},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.TOGGLE_LOADING:return Object(j.a)(Object(j.a)({},e),{},{loading:t.loadingValue});case o.LOG_OUT:return Object(j.a)(Object(j.a)({},e),{},{authenticated:!1,currentUser:null});case o.LOG_IN:return Object(j.a)(Object(j.a)({},e),{},{currentUser:t.currentUser,authenticated:!0});default:return e}},p=Object(g.c)({login:b}),f=Object(g.d)(p,{},Object(g.a)(O.a)),m={redirectUri:\"http://localhost:3000/oauth2/redirect\",apiBaseUrl:\"http://localhost:8080\"},L=m.apiBaseUrl,G=\"access_token\",I=L+\"/oauth2/authorize/google?redirect_uri=\"+m.redirectUri,v=function(e){var t=new Headers({\"Content-Type\":\"application/json\"});localStorage.getItem(G)&&t.append(\"Authorization\",\"Bearer \"+localStorage.getItem(G));var n={headers:t};return e=Object(j.a)(Object(j.a)({},n),e),fetch(e.url,e)},x=function(e){return function(t){t({type:o.TOGGLE_LOADING,loadingValue:e})}},_=function(){return localStorage.removeItem(G),function(e){e({type:o.LOG_OUT})}},U=function(){return(localStorage.getItem(G)?v({url:L+\"/profile\",method:\"GET\"}):Promise.reject(\"No access token set.\")).then((function(e){return function(t){console.log(\"asdd\"),t({type:o.LOG_IN,currentUser:e,authenticated:!0})}})),function(e){e({type:\"\"})}},T=n(3),S=function(){var e=Object(d.c)((function(e){return e.login})),t=Object(d.b)(),n=Object(g.b)(c,t),o=n.logIn,a=n.logOut,i=n.toggleLoading,u=Object(r.useCallback)((function(){o()}),[o,i]);Object(r.useCallback)((function(){a(),alert(\"You're logged out\")}),[a]);return Object(r.useEffect)((function(){u()}),[]),Object(T.jsxs)(\"div\",{children:[Object(T.jsxs)(\"h1\",{children:[\" Ahthenticated: \",e.authenticated.toString(),\" \"]}),Object(T.jsx)(\"a\",{href:I,children:\" Log in \"})]})},k=function(e){var t=function(t){t=t.replace(/[\\[]/,\"\\\\[\").replace(/[\\]]/,\"\\\\]\");var n=new RegExp(\"[\\\\?&]\"+t+\"=([^&#]*)\").exec(e.location.search);return null===n?\"\":decodeURIComponent(n[1].replace(/\\+/g,\" \"))},n=t(\"token\"),c=t(\"error\");return console.log(n),console.log(c),n?(localStorage.setItem(G,n),Object(T.jsx)(s.a,{to:{pathname:\"/\",state:{from:e.location}}})):Object(T.jsx)(s.a,{to:{pathname:\"/\"}})};var y=function(){return Object(T.jsx)(l.a,{basename:\"/app-sec02-group03\",children:Object(T.jsxs)(s.d,{children:[Object(T.jsx)(s.b,{exact:!0,path:\"/\",component:S}),Object(T.jsx)(s.b,{path:\"/oauth2/redirect\",component:k})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))};u.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(d.a,{store:f,children:Object(T.jsx)(y,{})})}),document.getElementById(\"root\")),C()}},[[31,1,2]]]);","name":"static/js/main.03936c1a.chunk.js","map":{"version":3,"sources":["static/js/main.03936c1a.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","loginActionCreator_namespaceObject","d","loginActionCreator_toggleLoading","loginActionCreator_logOut","loginActionCreator_logIn","loginType","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","es","redux","redux_thunk_es","objectSpread2","initialState","authenticated","loading","currentUser","loginReducer","state","arguments","length","undefined","action","type","TOGGLE_LOADING","Object","loadingValue","LOG_OUT","LOG_IN","store_reducers","login","store","master","redirectUri","apiBaseUrl","API_BASE_URL","ACCESS_TOKEN","GOOGLE_AUTH_URL","securityConfig","options","headers","Headers","localStorage","getItem","append","defaults","fetch","url","dispatch","removeItem","method","Promise","reject","then","response","console","log","jsx_runtime","login_Login","_bindActionCreators","logIn","logOut","toggleLoading","loadCurrentlyLoggedInUser","alert","children","toString","href","login_OAuth2RedirectHandler","props","getUrlParameter","name","replace","results","RegExp","exec","location","search","decodeURIComponent","token","error","setItem","to","pathname","from","Router","basename","exact","path","component","src_reportWebVitals","onPerfEntry","Function","e","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpprojectionfrontend\"] = this[\"webpackJsonpprojectionfrontend\"] || []).push([[0],{\n\n/***/ 31:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// NAMESPACE OBJECT: ./src/store/action-creators/loginActionCreator.ts\nvar loginActionCreator_namespaceObject = {};\n__webpack_require__.r(loginActionCreator_namespaceObject);\n__webpack_require__.d(loginActionCreator_namespaceObject, \"toggleLoading\", function() { return loginActionCreator_toggleLoading; });\n__webpack_require__.d(loginActionCreator_namespaceObject, \"logOut\", function() { return loginActionCreator_logOut; });\n__webpack_require__.d(loginActionCreator_namespaceObject, \"logIn\", function() { return loginActionCreator_logIn; });\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(13);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 23 modules\nvar es = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js + 2 modules\nvar redux = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/redux-thunk/es/index.js\nvar redux_thunk_es = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./src/store/action-types/loginType.ts\nvar loginType;(function(loginType){loginType[\"TOGGLE_LOADING\"]=\"toggle_logged\";loginType[\"LOG_OUT\"]=\"log_out\";loginType[\"LOG_IN\"]=\"log_in\";})(loginType||(loginType={}));\n// CONCATENATED MODULE: ./src/store/reducers/loginReducer.ts\nvar initialState={authenticated:false,loading:false,currentUser:0};var loginReducer_reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case loginType.TOGGLE_LOADING:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{loading:action.loadingValue});case loginType.LOG_OUT:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{authenticated:false,currentUser:null});case loginType.LOG_IN:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentUser:action.currentUser,authenticated:true});default:return state;}};/* harmony default export */ var loginReducer = (loginReducer_reducer);\n// CONCATENATED MODULE: ./src/store/reducers/index.ts\nvar reducers=Object(redux[\"c\" /* combineReducers */])({login:loginReducer});/* harmony default export */ var store_reducers = (reducers);\n// CONCATENATED MODULE: ./src/store/store.ts\nvar store=Object(redux[\"d\" /* createStore */])(store_reducers,{},Object(redux[\"a\" /* applyMiddleware */])(redux_thunk_es[\"a\" /* default */]));\n// CONCATENATED MODULE: ./src/config/dev.ts\nvar redirectUri=\"http://localhost:3000/oauth2/redirect\";var apiBaseUrl=\"http://localhost:8080\";var exportConfig={redirectUri:redirectUri,apiBaseUrl:apiBaseUrl};/* harmony default export */ var dev = (exportConfig);\n// CONCATENATED MODULE: ./src/config/prod.ts\nvar prod_redirectUri=\"http://localhost:3000/oauth2/redirect\";var prod_apiBaseUrl=\"http://localhost:8080\";var prod_exportConfig={redirectUri:prod_redirectUri,apiBaseUrl:prod_apiBaseUrl};/* harmony default export */ var prod = (prod_exportConfig);\n// CONCATENATED MODULE: ./src/config/master.ts\nvar config={redirectUri:\"\",apiBaseUrl:\"\"};if(true){config=dev;}else{}/* harmony default export */ var master = (config);\n// CONCATENATED MODULE: ./src/business/constants.ts\nvar API_BASE_URL=master.apiBaseUrl;var ACCESS_TOKEN=\"access_token\";var OAUTH2_REDIRECT_URI=master.redirectUri;var GOOGLE_AUTH_URL=API_BASE_URL+\"/oauth2/authorize/google?redirect_uri=\"+OAUTH2_REDIRECT_URI;\n// CONCATENATED MODULE: ./src/business/request/securityConfig.ts\nvar securityConfig_request=function request(options){var headers=new Headers({\"Content-Type\":\"application/json\"});if(localStorage.getItem(ACCESS_TOKEN)){headers.append(\"Authorization\",\"Bearer \"+localStorage.getItem(ACCESS_TOKEN));}var defaults={headers:headers};options=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},defaults),options);return fetch(options.url,options);};/* harmony default export */ var securityConfig = (securityConfig_request);\n// CONCATENATED MODULE: ./src/business/request/loginAPI.ts\nvar loginAPI_getCurrentUser=function getCurrentUser(){if(!localStorage.getItem(ACCESS_TOKEN)){return Promise.reject(\"No access token set.\");}return securityConfig({url:API_BASE_URL+\"/profile\",method:\"GET\"});};\n// CONCATENATED MODULE: ./src/store/action-creators/loginActionCreator.ts\nvar loginActionCreator_toggleLoading=function toggleLoading(loadingValue){return function(dispatch){dispatch({type:loginType.TOGGLE_LOADING,loadingValue:loadingValue});};};var loginActionCreator_logOut=function logOut(){localStorage.removeItem(ACCESS_TOKEN);return function(dispatch){dispatch({type:loginType.LOG_OUT});};};var loginActionCreator_logIn=function logIn(){loginAPI_getCurrentUser().then(function(response){return function(dispatch){console.log(\"asdd\");dispatch({type:loginType.LOG_IN,currentUser:response,authenticated:true});};});return function(dispatch){dispatch({type:\"\"});};};\n// CONCATENATED MODULE: ./src/store/index.ts\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/login/Login.tsx\nvar Login_Login=function Login(){var state=Object(es[\"c\" /* useSelector */])(function(state){return state.login;});var dispatch=Object(es[\"b\" /* useDispatch */])();var _bindActionCreators=Object(redux[\"b\" /* bindActionCreators */])(loginActionCreator_namespaceObject,dispatch),logIn=_bindActionCreators.logIn,logOut=_bindActionCreators.logOut,toggleLoading=_bindActionCreators.toggleLoading;var loadCurrentlyLoggedInUser=Object(react[\"useCallback\"])(function(){logIn();},[logIn,toggleLoading]);var handleLogOut=Object(react[\"useCallback\"])(function(){logOut();alert(\"You're logged out\");},[logOut]);Object(react[\"useEffect\"])(function(){loadCurrentlyLoggedInUser();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[\" Ahthenticated: \",state.authenticated.toString(),\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:GOOGLE_AUTH_URL,children:\" Log in \"})]});};/* harmony default export */ var login_Login = (Login_Login);\n// CONCATENATED MODULE: ./src/components/login/OAuth2RedirectHandler.tsx\nvar OAuth2RedirectHandler_OAuth2RedirectHandler=function OAuth2RedirectHandler(props){var getUrlParameter=function getUrlParameter(name){name=name.replace(/[\\[]/,\"\\\\[\").replace(/[\\]]/,\"\\\\]\");var regex=new RegExp(\"[\\\\?&]\"+name+\"=([^&#]*)\");var results=regex.exec(props.location.search);return results===null?\"\":decodeURIComponent(results[1].replace(/\\+/g,\" \"));};var token=getUrlParameter(\"token\");var error=getUrlParameter(\"error\");console.log(token);console.log(error);if(token){localStorage.setItem(ACCESS_TOKEN,token);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:{pathname:\"/\",state:{from:props.location}}});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:{pathname:\"/\"}});}};/* harmony default export */ var login_OAuth2RedirectHandler = (OAuth2RedirectHandler_OAuth2RedirectHandler);\n// CONCATENATED MODULE: ./src/Router.tsx\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{basename:\"/app-sec02-group03\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",component:login_Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/oauth2/redirect\",component:login_OAuth2RedirectHandler})]})});}/* harmony default export */ var Router = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 32)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Router,{})})}),document.getElementById(\"root\"));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[31,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/store/action-types/loginType.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/store/reducers/loginReducer.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/store/reducers/index.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/store/store.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/config/dev.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/config/prod.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/config/master.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/business/constants.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/business/request/securityConfig.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/business/request/loginAPI.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/store/action-creators/loginActionCreator.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/components/login/Login.tsx","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/components/login/OAuth2RedirectHandler.tsx","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/Router.tsx","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/reportWebVitals.ts","/home/lordmarcusvane/Hackprog/IS1/Proyecto/repos/project-frontend-erenlagaviota-backend/projectionfrontend/src/index.tsx"],"names":["loginType","initialState","authenticated","loading","currentUser","reducer","state","action","type","TOGGLE_LOADING","loadingValue","LOG_OUT","LOG_IN","reducers","combineReducers","login","loginReducer","store","createStore","applyMiddleware","thunk","redirectUri","apiBaseUrl","exportConfig","config","process","exportConfigDev","API_BASE_URL","keys","ACCESS_TOKEN","OAUTH2_REDIRECT_URI","GOOGLE_AUTH_URL","request","options","headers","Headers","localStorage","getItem","append","defaults","fetch","url","getCurrentUser","Promise","reject","method","toggleLoading","dispatch","logOut","removeItem","logIn","then","response","console","log","Login","useSelector","useDispatch","bindActionCreators","loginActionCreators","loadCurrentlyLoggedInUser","useCallback","handleLogOut","alert","useEffect","toString","OAuth2RedirectHandler","props","getUrlParameter","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","token","error","setItem","pathname","from","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["export enum loginType {\n    TOGGLE_LOADING = \"toggle_logged\",\n    LOG_OUT = \"log_out\",\n    LOG_IN = \"log_in\"\n}\n\nexport interface loginState {\n    authenticated: boolean,\n    currentUser: any,\n    loading: false\n}\n","import { loginAction } from \"../actions/loginAction\";\nimport { loginType, loginState } from \"../action-types/loginType\";\n\nconst initialState : loginState = {\n    authenticated: false,\n    loading: false,\n    currentUser: 0\n}\n\nconst reducer = (state = initialState, action: loginAction) => {\n    switch (action.type){\n        case loginType.TOGGLE_LOADING:\n            return {...state, loading: action.loadingValue}\n        case loginType.LOG_OUT:\n            return {...state, authenticated:false, currentUser: null}\n        case loginType.LOG_IN:\n            return {...state, currentUser:action.currentUser, authenticated:true}\n        default:\n            return state\n    }\n}\n\n\nexport default reducer;\n","import { combineReducers } from \"redux\";\nimport loginReducer from \"./loginReducer\"\n\nconst reducers = combineReducers({\n    login: loginReducer\n})\n\nexport default reducers;\n\nexport type RootState = ReturnType<typeof reducers>;\n","import { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\"\nimport reducers from \"./reducers\";\n\n\nexport const store = createStore(\n    reducers,\n    {},\n    applyMiddleware(thunk)\n)\n","const redirectUri = \"http://localhost:3000/oauth2/redirect\";\nconst apiBaseUrl = \"http://localhost:8080\";\n\nconst exportConfig = {redirectUri, apiBaseUrl}\n\nexport default exportConfig;\n","const redirectUri = \"http://localhost:3000/oauth2/redirect\";\nconst apiBaseUrl = \"http://localhost:8080\";\n\nconst exportConfig = {redirectUri, apiBaseUrl}\n\nexport default exportConfig;\n","import exportConfigDev from \"./dev\";\nimport exportConfigProd from \"./prod\";\n\nlet config: typeof exportConfigDev = { redirectUri: \"\", apiBaseUrl: \"\" };\n\nif (process.env.NODE_ENV === \"production\" || process.env.NODE_ENV === \"test\") {\n  config = exportConfigDev;\n} else {\n  config = exportConfigProd;\n}\n\nexport default config;\n","import keys from \"../config/master\";\n\nexport const API_BASE_URL = keys.apiBaseUrl;\nexport const ACCESS_TOKEN = \"access_token\";\nexport const OAUTH2_REDIRECT_URI = keys.redirectUri;\nexport const GOOGLE_AUTH_URL = API_BASE_URL + \"/oauth2/authorize/google?redirect_uri=\" + OAUTH2_REDIRECT_URI;\n","import { ACCESS_TOKEN } from \"../constants\";\n\ninterface RequestOptions {\n  url: string;\n  method: string;\n}\n\nconst request = (options: RequestOptions) => {\n  const headers = new Headers({\n    \"Content-Type\": \"application/json\",\n  });\n\n  if (localStorage.getItem(ACCESS_TOKEN)) {\n    headers.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(ACCESS_TOKEN)\n    );\n  }\n\n  const defaults = { headers: headers };\n  options = { ...defaults, ...options };\n\n  return fetch(options.url, options);\n};\n\nexport default request;\n","import { API_BASE_URL, ACCESS_TOKEN } from \"../constants\";\nimport request from \"./securityConfig\";\n\nexport const getCurrentUser = () => {\n    if (!localStorage.getItem(ACCESS_TOKEN)){\n        return Promise.reject(\"No access token set.\");\n    }\n\n    return request({\n        url: API_BASE_URL + \"/profile\",\n        method: \"GET\"\n    })\n}\n","import { Dispatch } from \"redux\";\nimport { ACCESS_TOKEN } from \"../../business/constants\";\nimport { getCurrentUser } from \"../../business/request/loginAPI\";\nimport { loginType } from \"../action-types/loginType\";\nimport { loginAction } from \"../actions/loginAction\";\n\nexport const toggleLoading = (loadingValue: boolean) => {\n  return (dispatch: Dispatch<loginAction>) => {\n    dispatch({\n      type: loginType.TOGGLE_LOADING,\n      loadingValue: loadingValue,\n    });\n  };\n};\n\nexport const logOut = () => {\n  localStorage.removeItem(ACCESS_TOKEN);\n  return (dispatch: Dispatch<loginAction>) => {\n    dispatch({\n      type: loginType.LOG_OUT,\n    });\n  };\n};\n\nexport const logIn = () => {\n  getCurrentUser().then((response) => {\n    return (dispatch: Dispatch<loginAction>) => {\n        console.log(\"asdd\");\n      dispatch({\n        type: loginType.LOG_IN,\n        currentUser: response,\n        authenticated: true,\n      });\n    };\n  });\n  return (dispatch: Dispatch<any>) => {\n    dispatch({\n      type: \"\",\n    });\n  };\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { RootState } from \"../../store/reducers\";\nimport { loginActionCreators } from \"../../store\";\nimport { useCallback } from \"react\";\nimport { loginState } from \"../../store/action-types/loginType\";\nimport {GOOGLE_AUTH_URL} from \"../../business/constants\";\n\nconst Login = (): JSX.Element => {\n  const state = useSelector((state: RootState) => state.login) as loginState;\n  const dispatch = useDispatch();\n\n  const { logIn, logOut, toggleLoading } = bindActionCreators(\n    loginActionCreators,\n    dispatch\n  );\n\n  const loadCurrentlyLoggedInUser = useCallback(() => {\n    logIn();\n  }, [logIn, toggleLoading]);\n\n  const handleLogOut = useCallback(() => {\n    logOut();\n    alert(\"You're logged out\");\n  }, [logOut]);\n\n  useEffect(() => {\n    loadCurrentlyLoggedInUser();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div>\n      <h1> Ahthenticated: {state.authenticated.toString()} </h1>\n      <a href={GOOGLE_AUTH_URL}> Log in </a>\n    </div>\n  );\n};\n\nexport default Login;\n","import { Redirect, RouteComponentProps } from \"react-router\";\nimport { ACCESS_TOKEN } from \"../../business/constants\";\nimport React from \"react\";\n\nconst OAuth2RedirectHandler = (props: RouteComponentProps) => {\n  const getUrlParameter = (name: string) => {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    const regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\n\n    const results = regex.exec(props.location.search);\n    return results === null\n      ? \"\"\n      : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n  };\n\n  const token = getUrlParameter(\"token\");\n  const error = getUrlParameter(\"error\");\n\n  console.log(token);\n  console.log(error);\n\n  if (token) {\n    localStorage.setItem(ACCESS_TOKEN, token);\n    return (\n      <Redirect\n        to={{\n          pathname: \"/\",\n          state: { from: props.location },\n        }}\n      />\n    );\n  } else {\n    return <Redirect to={{ pathname: \"/\" }}></Redirect>;\n  }\n};\n\nexport default OAuth2RedirectHandler;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Login from \"./components/login/Login\";\nimport OAuth2RedirectHandler from \"./components/login/OAuth2RedirectHandler\";\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route exact path=\"/\" component={Login}></Route>\n        <Route\n          path=\"/oauth2/redirect\"\n          component={OAuth2RedirectHandler}\n        ></Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Router\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}